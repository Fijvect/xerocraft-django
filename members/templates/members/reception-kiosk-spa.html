<!DOCTYPE html>

{% load staticfiles %}

<html lang="en" style="overflow-y: scroll;">
<head>
    <meta charset="UTF-8">
    <title>Reception</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto Condensed">

    <!-- MDL -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500|Roboto+Mono|Roboto+Condensed:400,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.min.css" />

    <script src="/static/members/js.cookie.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.5.3/signature_pad.min.js"></script>

    <style>

        body {
            margin:0;
            padding:0;
            background-color:#f8f8f8;
            overflow-y: hidden;
            font-size:24pt;
        }

        .mdl-textfield__input { text-align: center; font-size:24pt; }
        .mdl-textfield__label { text-align: center; font-size:24pt; overflow:visible;}

        .mdl-textfield--floating-label.is-dirty .mdl-textfield__label,
        .mdl-textfield--floating-label.is-focused .mdl-textfield__label {
            text-align: center; 
            font-size:16pt;
        }

        .mdl-chip { margin: 5px; padding: 20px; font-size:16pt; }

        /* Tweeks to radio button list */
        .mdl-radio__outer-circle { width:25px; height:25px; margin-top:-14px; margin-left:-10px;}
        .mdl-radio__inner-circle { width:12px; height:12px; top:-4px; left: -4px; }

        /* Tweeks to checkbox list */
        .mdl-checkbox__box-outline { width:24px; height:24px; margin-top:-3px }
        .mdl-checkbox__focus-helper { width:40px; height:40px; top:-7px; left:-7px;}


    </style>
</head>
<body>
    <div id="myContainer"></div>
    <script src="{% static 'members/ReceptionKiosk.js' %}"></script>
    <script>
        var csrfToken = Cookies.get('csrftoken');
        var flags = {
            "csrfToken": csrfToken,
            "orgName": "{{ org_name }}",
            "bannerTopUrl": "{% static 'xerops/GenericBannerTop_800x155.png' %}",
            "bannerBottomUrl": "{% static 'xerops/GenericBannerBottom_800x84.png' %}",
            "discoveryMethodsUrl": "{% url 'memb:discoverymethod-list' %}"
        };
        var myContainer = document.getElementById("myContainer");
        var app = Elm.ReceptionKiosk.embed(myContainer, flags);

        var signaturePad = null;
        app.ports.initSignaturePad.subscribe(
            function(canvasId) {
                var opts = {
                    backgroundColor: 'rgba(255, 255, 255, 0)',
                    penColor: 'rgb(0, 0, 0)'
                };
                var canv = document.getElementById(canvasId);
                var ctx = canv.getContext("2d");
                ctx.scale(0.395, 0.75);  // WHAT? WHY? Found these values by trial & error.
                signaturePad = new SignaturePad(canv, opts);
            }
        );

    </script>
</body>
</html>
